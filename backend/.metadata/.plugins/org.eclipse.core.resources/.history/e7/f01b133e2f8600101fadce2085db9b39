package com.wipro.productms.config;

import org.springframework.context.annotation.Configuration;

@Configuration
public class KafkaProducerConfig {
  @Bean
  public ProducerFactory<String,Object> producerFactory() {
    Map<String,Object> cfg = new HashMap<>();
    cfg.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092");
    cfg.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
    cfg.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);
    return new DefaultKafkaProducerFactory<>(cfg);
  }
  @Bean
  public KafkaTemplate<String,Object> kafkaTemplate() { return new KafkaTemplate<>(producerFactory()); }
}
